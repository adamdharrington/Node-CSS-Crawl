var _AJAX=function(a){return _AJAX.get(a);};_AJAX.n=function(a){return a?"string"==typeof a?{url:a}:a:!1;},_AJAX.json=function(a){return(a=_AJAX.n(a))?(a.json=!0,new _AJAX.r(a)):void 0;},_AJAX.get=function(a){return new _AJAX.r(a);},_AJAX.post=function(a){return(a=_AJAX.n(a))?(a.method="POST",new _AJAX.r(a)):void 0;},_AJAX.r=function(a){if(!a){return !1;}if("string"==typeof a&&(a={url:a}),"POST"===a.method){var b="?";for(var c in a.options){b+=a.options.hasOwnProperty(c)?"&"+c+"="+a.options[c]:"";}}else{a.method="GET",a.url+=a.url.indexOf("?")<0?"?":"";for(var c in a.options){a.url+=a.options.hasOwnProperty(c)?"&"+c+"="+a.options[c]:"";}}this.x=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.x.o=a,this.x.c={t:[],e:[]},this.then=function(a){return this.x.c.t.push(a),this;},this.error=function(a){return this.x.c.e.push(a),this;},this.x.l=function(a,b){for(var c=0;c<this.c[a].length;c++){"function"==typeof this.c[a][c]&&this.c[a][c](b);}},this.x.y=function(a){this.l("t",a);},this.x.z=function(a){this.l("e",a);},this.x.onreadystatechange=function(){if(4===this.readyState&&200==this.status){var a={data:this.responseText,url:this.o.url};if(this.o.json){try{a=JSON.parse(a);}catch(b){return this.z("invalid json"),!1;}}this.y(a);}else{4===this.readyState&&404==this.status?this.z("404"):4===this.readyState&&this.z("unknow");}},this.x.open(a.method,a.url,!0),this.x.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.x.send("undefined"!=typeof b?b:null);};(function(w){w.__styleSheets=new Array();var a=w.document.styleSheets;for(var i=0;i<a.length;i++){var t=a[i];if(t.hasOwnProperty("cssRules")&&t.cssRules===null&&t.href!==null){var source=t.href;_AJAX(source).then(function(res){var url=res.url.split("?")[0];var style_tag=document.createElement("style");style_tag.appendChild(document.createTextNode(res.data));document.head.appendChild(style_tag);w.__styleSheets.push({remote:true,href:url,cssRules:style_tag.sheet.cssRules});});}else{if(t.hasOwnProperty("cssRules")&&t.cssRules!==null){w.__styleSheets.push({remote:false,href:t.href,cssRules:t.cssRules});}}}})(window);(function(w){w.__STYLES={url:w.location.href,summary:{sheets:0,"rule count":0,"selector count":0,"unique selectors":0,"average scope":0,uniqueness:0},"style sheets":[],selectors:{}};w.__SF=(function(site){var helpers={uniqueOnly:function(array){return array.filter(function(i){return array.indexOf(i)==array.lastIndexOf(i);});},pseudo:function(key){var pR=/(\:.*)/,newKey,pseudo;pseudo=pR.exec(key);if(pseudo){if(!(/(?:empty)|(?:-child)|(?:-of-type)|(?:\:not)/.test(pseudo))){newKey=key.substr(0,key.length-pseudo[0].length);return newKey.length>0?newKey:"*";}return key;}else{return key;}},sellOut:function(selector){var scopeArr=selector.split(/[\s\>~\+]+/),key=scopeArr.pop(),pseudoFix=helpers.pseudo(key),scopeTxt=selector.substr(0,(selector.length-key.length)),combinator=scopeTxt.substr(scopeTxt.lastIndexOf(scopeArr[scopeArr.length-1])+1),comType="NONE";var qs=w.document.querySelectorAll(scopeTxt+pseudoFix).length||0;if(/[\>]/.test(combinator)){comType="CHILD";}else{if(/[~]/.test(combinator)){comType="GSIB";}else{if(/[\+]/.test(combinator)){comType="NSIB";}else{if(/\*\s/.test(combinator)){comType="GCHILD";}else{if(/\s/.test(combinator)){comType="DESC";}}}}}return{"key selector":key,"matched elements":qs,"scope text":scopeTxt,"combinator type":comType,"scope length":scopeArr.length,"scope size":document.querySelectorAll(scopeTxt+"*").length};}},addSheet=function(sheet){var i=site["style sheets"].push({href:sheet.href});site.summary.sheets+=1;return i-1;},addSheetInfo=function(index,obj){for(var property in obj){if(obj.hasOwnProperty(property)){site["style sheets"][index][property]=(obj[property]);}}},editSheet=function(index,property,value){if(property=="@imports"){site["style sheets"][index][property].push(value);}else{site["style sheets"][index][property]+=value;}},addSelector=function(st,si,ri,pl){if(site.selectors.hasOwnProperty(st)){var sel=site.selectors[st];sel.references.push({sheet:si,rule:ri,"property count":pl.length});sel["properties set"]=helpers.uniqueOnly(sel["properties set"].concat(pl));sel["property count"]+=pl.length;sel["avg properties"]=sel["property count"]/sel.references.length;}else{var scope=helpers.sellOut(st);site.selectors[st]={references:[{sheet:si,rule:ri,"property count":pl.length}],"matched elements":scope["matched elements"],"key selector":scope["key selector"],"scope text":scope["scope text"],"combinator type":scope["combinator type"],"scope length":scope["scope length"],"scope size":scope["scope size"],"properties set":pl,"property count":pl.length,"avg properties":pl.length};}};return{addSheet:function(s){return addSheet(s);},addSheetInfo:function(i,info){return addSheetInfo(i,info);},editSheet:function(i,p,v){return editSheet(i,p,v);},addSelector:function(selectorText,sheetIndex,ruleIndex,propertyList){return addSelector(selectorText,sheetIndex,ruleIndex,propertyList);}};})(w.__STYLES);var processSheet=function(report,sheet,sheetIndex){var allRules=Array.prototype.map.call(sheet.cssRules,function(r){return r;}),sheetInfo={"all rules":allRules.length,"ignored rules":0,"rule count":0,"@import rules":0,"@imports":[],"@media rules":0,"@media inner":0,"@charset rules":0,"@keyframe rules":0,"@font-face rules":0,"@supports rules":0,"@supports inner":0,"selector count":0,declarations:0},processRules=function(array,info){for(var ri=0;ri<array.length;ri++){var rule=array[ri];if(rule.type===3&&rule.styleSheet){info["@import rules"]+=1;info["rule count"]+=1;info["@imports"].push(ri);var newIndex=report.addSheet(rule.styleSheet);processSheet(report,rule.styleSheet,newIndex);}else{if(rule.cssRules&&rule.cssRules!==null){var ruleLen=rule.cssRules.length,at;if(rule.type===4){at="@media";}if(rule.type===12){at="@supports";}info[at+" rules"]+=1;info["rule count"]+=1;info["all rules"]+=ruleLen;info[at+" inner"]+=ruleLen;array.concat(rule.cssRules);}else{if(rule.selectorText){info["rule count"]+=1;var props=getProperties(rule),sellBlock=rule.selectorText.split(",");info.declarations+=props.length;for(var seli in sellBlock){info["selector count"]++;var sel=sellBlock[seli].trim().toString();if(sel.length>0){report.addSelector(sel,sheetIndex,ri,props);}}}else{if(rule.type===7||rule.type===8){info["@keyframe rules"]+=1;info["ignored rules"]+=1;}else{if(rule.type===5){info["@font-face rules"]+=1;info["ignored rules"]+=1;}else{if(rule.type===2){info["@charset rules"]+=1;info["ignored rules"]+=1;}else{info["ignored rules"]++;}}}}}}}},getProperties=function(rule){var props=[];if(rule.hasOwnProperty("style")&&rule.style.length>0){for(var propi=0,len=rule.style.length;propi<len;propi++){props.push(rule.style[propi]);}}return props;};processRules(allRules,sheetInfo);w.__SF.addSheetInfo(sheetIndex,sheetInfo);};var processRule=function(){var extractRules=function(rule,sheetIndex){};};var processSelector=function(){};var processSheets=function(){for(var sheet in w.__styleSheets){var sheetIndex=w.__SF.addSheet(w.__styleSheets[sheet]);processSheet(w.__SF,w.__styleSheets[sheet],sheetIndex);}};setTimeout(function(){processSheets();},400);})(window);